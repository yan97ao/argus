# 每日更新报告（2026-02-06）

## ai-dynamo/dynamo

| 提交时间 | 作者 | 提交信息 |
|----------|------|----------|
| 2026-02-06 12:52:43 | Yan Ru Pei | feat: NAT telemetry conversion (#6022) |
| 2026-02-06 11:50:17 | dagil-nvidia | docs: cleanup of docs refactor for components, integrations, and features (#6019) |
| 2026-02-06 09:55:50 | akshatha-k | docs: Migrate router documentation to three-tier structure (#5979) |
| 2026-02-06 09:43:04 | Karen Chung | feat: TRTLLM DP Rank Routing (#5936) |
| 2026-02-06 09:01:48 | Keiven C | test: router mocker E2E tests to run serially for stability (#6018) |
| 2026-02-06 09:00:52 | dagil-nvidia | docs: migrate Frontend docs to three-tier structure (#6002) |
| 2026-02-06 09:00:34 | Jonathan Tong | ci: Add fern docs publish workflow (#5758) |
| 2026-02-06 08:05:49 | dagil-nvidia | docs: migrate Profiler docs to three-tier structure (#6003) |
| 2026-02-06 08:02:05 | akshatha-k | docs: restructure KVBM documentation into three-tier format (#5905) |
| 2026-02-06 07:52:32 | dagil-nvidia | docs: migrate LoRA docs to three-tier structure (#6000) |
| 2026-02-06 07:48:54 | dagil-nvidia | docs: migrate Multimodal docs to three-tier structure (#5999) |
| 2026-02-06 07:45:19 | Anish | docs: planner 3-tier documentation restructure (#5876) |
| 2026-02-06 07:45:10 | dagil-nvidia | docs: migrate Speculative Decoding docs to three-tier structure (#6001) |
| 2026-02-06 06:56:15 | Biswa Panda | feat(lora): implement HRW-based LoRA allocation system (#5992) |
| 2026-02-06 05:23:08 | Anant Sharma | fix: fix core CI not triggering for container/deps/*.txt changes (#5998) |
| 2026-02-06 04:21:10 | Keiven C | chore: remove unused NIM specific code (part 2) (#5893) |
| 2026-02-06 03:38:34 | Keiven C | test: make metrics_port mandatory in fetch_kvbm_metrics (#6009) |
| 2026-02-06 03:35:42 | Yan Ru Pei | chore: make mocker it's own crate (#5958) |
| 2026-02-06 03:33:04 | Indrajit Bhosale | fix: Update vllm multimodal PD Disagg launch script (#5951) |
| 2026-02-06 03:20:52 | KrishnanPrash | fix: multimodal worker internal-only to prevent registration collision (#5986) |
| 2026-02-06 03:20:42 | KrishnanPrash | fix: mm_item keys for SGLang API (#5981) |
| 2026-02-06 03:05:42 | milesial | chore: restore build-frontend-image.yaml (#5969) |
| 2026-02-06 02:59:36 | Richard Huo | test: [DYN-1988] skip TRTLLM KVBM disagg test for now until upstream's fix is released (#5974) |
| 2026-02-06 02:11:20 | Indrajit Bhosale | feat: Make grpc startup dynamic for high ISL/OSL in GRPC frontend (#5536) |
| 2026-02-06 02:08:32 | Anant Sharma | ci: xfail failing chunked_prefill_offload test and fix ucx tag (#6006) |
| 2026-02-06 00:26:32 | Ran Rubin | ci: deploy tests fix (#5996) |
| 2026-02-06 00:24:35 | dagil-nvidia | docs: add documentation templates for streamlined docs structure (#5834) |

### 📊 统计摘要
> 本日共 27 个提交 | 🔴高 4 | 🟡中 15 | 🟢低 8
## 📋 目录

- [ai-dynamo/dynamo](#ai-dynamo-dynamo)
  - [📊 统计摘要](#-统计摘要)
  - [🔴 高重要度变更 (4)](#-🔴-高重要度变更-4)
    - [feat: NAT telemetry conversion (#6022)](#5035447)
    - [feat: TRTLLM DP Rank Routing (#5936)](#b5c0db6)
    - [feat(lora): implement HRW-based LoRA allocation system (#...](#953e5d7)
    - [feat: Make grpc startup dynamic for high ISL/OSL in GRPC ...](#8c8680b)
  - [🟡 中重要度变更 (15)](#-🟡-中重要度变更-15)
    - [docs: cleanup of docs refactor for components, integratio...](#b19de4e)
    - [docs: Migrate router documentation to three-tier structur...](#80e7baf)
    - [docs: migrate Frontend docs to three-tier structure (#6002)](#400126d)
    - [docs: migrate Profiler docs to three-tier structure (#6003)](#3023c62)
    - [docs: restructure KVBM documentation into three-tier form...](#4c3eba2)
    - [docs: migrate Multimodal docs to three-tier structure (#5...](#c570998)
    - [docs: planner 3-tier documentation restructure (#5876)](#7752ce2)
    - [docs: migrate Speculative Decoding docs to three-tier str...](#8aa7335)
    - [fix: fix core CI not triggering for container/deps/*.txt ...](#e351c63)
    - [chore: remove unused NIM specific code (part 2) (#5893)](#cb7ebdd)
    - [chore: make mocker it's own crate (#5958)](#91fb78c)
    - [fix: Update vllm multimodal PD Disagg launch script (#5951)](#a72f41f)
    - [fix: multimodal worker internal-only to prevent registrat...](#6b70d84)
    - [fix: mm_item keys for SGLang API (#5981)](#cfba042)
    - [docs: add documentation templates for streamlined docs st...](#3a9bfc4)
  - [🟢 低重要度变更 (8)](#-🟢-低重要度变更-8)
    - [test: router mocker E2E tests to run serially for stabili...](#04fe92d)
    - [ci: Add fern docs publish workflow (#5758)](#ad1e65f)
    - [docs: migrate LoRA docs to three-tier structure (#6000)](#87449e1)
    - [test: make metrics_port mandatory in fetch_kvbm_metrics (...](#8b651fe)
    - [chore: restore build-frontend-image.yaml (#5969)](#4c200e7)
    - [test: [DYN-1988] skip TRTLLM KVBM disagg test for now unt...](#0fa3d07)
    - [ci: xfail failing chunked_prefill_offload test and fix uc...](#20847a6)
    - [ci: deploy tests fix (#5996)](#458b206)
#### 🔴 高重要度变更 (4)

### feat: NAT telemetry conversion (#6022)
**SHA**: `5035447` | 🔗 [查看提交](https://github.com/ai-dynamo/dynamo/commit/5035447f2f799f6e1292c008b8ea1e9a20c15288)

**🎯 变更类型**：功能增强 / 重构  
**⚡ 重要程度**：🔴高  
**📋 变更摘要**：新增 NAT（Network‑Assisted Trace）Telemetry 转换工具，能够将 OpenAI‑style telemetry JSONL 转换为 aiperf / mooncake 所需的 JSONL 格式。伴随新增 `benchmarks/nat_trace/common.py` 抽取公共 tokenizer/hasher 逻辑，并在原有 `convert.py` 中使用该公共模块，统一默认 tokenizer、block‑size 常量并简化代码路径。  

**🎯 影响范围**：  
- `benchmarks/nat_trace/` 目录全新加入 `convert_telemetry.py`、`common.py`、`README.md`（文档）  
- 旧的 `benchmarks/nat_trace/convert.py` 代码被重构，删除内部 `texts_to_hashes_and_lengths` 实现，改为调用 `common`  
- 相关依赖 `aiperf.common.tokenizer`、`aiperf.dataset.synthesis.rolling_hasher` 被间接使用  

**🔍 技术洞察**  

- **架构影响**  
  - **模块化提升**：抽取公共函数 `texts_to_hashes_and_lengths` 与默认配置到 `common.py`，形成“工具库”层，降低 `convert.py` 与未来其他转换脚本之间的重复代码。  
  - **可扩展性**：通过统一的 `DEFAULT_TOKENIZER` 与 `DEFAULT_BLOCK_SIZE`，后续可在统一位置调整策略，所有转换脚本自动受益。  
  - **依赖入口**：新增 Python 脚本依赖 `aiperf` 包的内部模块（Tokenizer、RollingHasher），这在 Rust 项目中并未直接使用，意味着构建/CI 环境需要额外的 Python 环境与模型下载步骤。  

- **性能影响**  
  - **Tokenization & 哈希**：对每条 LLM 调用的全部对话文本进行分词、分块、滚动哈希。对大规模 telemetry（数十万行）可能导致显著 CPU 与内存占用，特别是默认 tokenizer 为 `deepseek-ai/DeepSeek-R1-Distill-Llama-8B`，首次加载会触发模型权重下载并驻留在内存。  
  - **I/O**：使用逐行读取、一次性加载全部文本到列表再批量 tokenization，内存峰值 ≈ 所有文本大小 + token 列表，可能在大文件下触发 OOM。建议改为流式分批处理（如 `batch_size=1024`）以降低峰值。  
  - **并行潜力**：当前实现为单线程 `tqdm` 循环，可通过 `concurrent.futures` 或 `multiprocessing` 将 tokenization 分片并行，提升大数据集处理速度。  

- **安全考虑**  
  - **输入文件**：直接 `json.loads(line)`，未对字段类型或长度做限制，恶意构造的超长字符串或嵌套结构会导致 CPU/内存耗尽（典型 JSON‑DOS）。  
  - **路径/覆盖风险**：`--output-file` 默认使用 `<input>_mooncake.jsonl`，若 `input-file` 为相对路径（如 `../secret.jsonl`）且 `output-file` 未指定，生成文件可能写到意外目录。  
  - **外部依赖**：Tokenizer 通过 `Tokenizer.from_pretrained` 拉取模型，若网络被劫持或依赖的模型被篡改，可能植入恶意代码（虽概率低，但属于供应链风险）。建议锁定模型哈希或在离线环境提供缓存。  

**⚠️ 潜在风险**  

1. **内存/性能瓶颈**：大规模 telemetry（>1 M 行）可能导致 OOM 和长时间卡顿。  
2. **CI 环境破坏**：新增 Python 脚本在 CI 中自动执行（若未显式排除）会拉取大型模型，导致构建时间激增、网络不稳定。  
3. **输入恶意构造**：缺乏对 `event_type`、`session_id`、`timestamp` 等字段的校验，可能触发异常或信息泄露。  
4. **相对导入失败**：`from common import ...` 依赖当前工作目录在 `benchmarks/nat_trace`，其它调用方式（如 `python -m benchmarks.nat_trace.convert_telemetry`) 可能导致 `ModuleNotFoundError`。  
5. **文档同步**：README 与代码中默认 tokenizer、block‑size 需保持一致，出现不匹配时用户体验受损。  

**💡 关注建议**  

- **性能调优**  
  - 实现分批 tokenization（`batch_size` 参数），或使用生成器逐行处理以降低峰值内存。  
  - 考虑使用多进程/线程并行 `Tokenizer.encode`，并提供 `--workers` 参数。  

- **安全加固**  
  - 对输入文件大小做上限检查（如 `--max-lines`、`--max-bytes`），并在读取异常时提前退出。  
  - 对关键字段（`session_id`、`timestamp`）进行基本类型校验，防止恶意结构导致异常。  
  - 将默认 tokenizer 与模型文件放入仓库的 `models/` 目录或提供 SHA‑256 校验，防止供应链攻击。  

- **可维护性**  
  - 把 `common.py` 改为相对包路径 `benchmarks.nat_trace.common`，并在 `setup.cfg`/`pyproject.toml` 中声明 `benchmarks.nat_trace` 为可导入的 Python 包。  
  - 为 `convert_telemetry.py` 添加单元测试，覆盖系统提示解析、分类逻辑、异常输入路径。  
  - 在 CI 中显式跳过该 benchmark（如 `CI_SKIP_NAT_TRACE=1`），防止模型下载影响主线构建时长。  

- **文档与用户引导**  
  - 在 README 中明确说明 “若在受限网络或离线环境，请预先下载 tokenizer 并使用 `--tokenizer` 指定本地路径”。  
  - 将默认 `DEFAULT_BLOCK_SIZE` 与 “哈希块大小” 的含义写入注释，便于后续调参。  

通过上述措施，可在保持新增功能价值（让研究者能够轻松将 telemetry 转为 benchmark 数据）的同时，降低对系统资源的冲击、提升安全防护并保证代码的可维护性。

---

### feat: TRTLLM DP Rank Routing (#5936)
**SHA**: `b5c0db6` | 🔗 [查看提交](https://github.com/ai-dynamo/dynamo/commit/b5c0db63c3914513c445c829f6dafcdef9e0f62d)

**🎯 变更类型**：功能增强 / DP Rank Routing（注意力数据并行）  

**⚡ 重要程度**：🔴高  

**📋 变更摘要**  
本次 PR 为 TensorRT‑LLM（TRT‑LLM）后端引入 *Attention Data Parallelism*（ADP）支持，并在 Dynamo 中实现 “DP Rank Routing”。核心改动包括：  
1. 在 `Engine` 中暴露 `attention_dp_size`（等价于 TPSize，若未开启则返回 1），并将其写入运行时 `data_parallel_size`。  
2. 将 KV‑Cache 事件的 `data_parallel_rank` 从单一固定 0 扩展为对应的 ADP rank，并为每个 rank 创建独立的 `KvEventPublisher`。  
3. 调度层在请求生成时读取 routing hint `dp_rank`，通过 `SchedulingParams(attention_dp_rank=dp_rank, attention_dp_relax=False)` 将该 rank 传递给 TRT‑LLM。  
4. CLI 增加 `--enable-attention-dp` 标志，文档同步更新，新增/扩展了多处单元测试以验证 ADP 路由与 KV 前缀复用。  

**🎯 影响范围**  
- `components/src/dynamo/trtllm/engine.py`、`main.py`、`publisher.py`、`request_handlers/handler_base.py`  
- `components/src/dynamo/trtllm/utils/trtllm_utils.py`（CLI 参数）  
- KV 事件发布与消费路径（NATS / ZMQ）  
- 路由层（KV‑aware router）  
- 自动部署（AutoDeploy）后端（已标记为不支持）  
- 文档、测试用例  

**🔍 技术洞察**  

| 维度 | 影响分析 |
|------|----------|
| **架构影响** | • 引入 *Attention DP* 后，单个 TRT‑LLM worker 在内部会产生 `tensor_parallel_size` 个注意力 DP rank，每个 rank 拥有独立的 KV‑Cache。<br>• Dynamo 路由层从原来的 “worker_id → target” 拓展为 “(worker_id, dp_rank) → target”。<br>• 为每个 rank 创建独立的 `KvEventPublisher`，保证 KV 事件的 `data_parallel_rank` 正确传播到 Router。<br>• `runtime_config.data_parallel_size` 成为调度器决定路由目标的关键字段，保持与 vLLM‑DP 的接口一致。 |
| **性能影响** | • **正面**：在同一进程内利用多 GPU（TP）实现 ADP，可在不增加进程数的情况下提升并发度和 KV‑Cache 利用率，降低跨进程通信开销。<br>• **负面**：每个 ADP rank 需要独立的 KV‑Publisher 与事件队列，可能导致线程/对象数量线性增长（`attention_dp_size` ≤ TPSize），在极端 TP（≥8）时会出现额外的内存占用与调度开销。<br>• 新增 `SchedulingParams` 传递路径，若后端实现不完全支持（如 AutoDeploy），会产生回退或报错。 |
| **安全考虑** | - 新增的 `data_parallel_rank` 字段仅用于内部路由，无额外的权限校验需求。<br>- 若第三方自行构造请求并伪造 `routing.dp_rank`，可能导致请求被强制分配到特定 ADP rank。当前代码未对 `dp_rank` 进行范围校验（仅在 `SchedulingParams` 中使用），建议在前置路由或请求解析层加入合法性检查，以防资源滥用。 |
| **可维护性** | - 代码路径分岔较多（原有的 single‑rank 与多‑rank 分支），增加了维护成本。<br>- `KvEventPublisher` 的接口签名改动（新增 `attention_dp_rank` 参数）需同步到所有调用方（已完成），但后续若有其他发布实现（如自定义 NATS），需保持一致。<br>- 文档已同步更新，仍需在 CI 中加入对不支持 ADP 的后端（AutoDeploy）进行明确的跳过或报错检测。 |

**⚠️ 潜在风险**  

1. **兼容性回退**  
   - AutoDeploy 后端仍会接受 `enable_attention_dp` 参数，但在 `engine._prune_engine_args_for_autodeploy` 中被标记为不支持。若前端仍在 AutoDeploy 场景下开启 ADP，可能导致运行时错误或意外降级。  
2. **DP Rank 越界**  
   - `dp_rank` 来自请求的 routing hint，若用户提供了非法值（如负数或大于 `tensor_parallel_size-1`），调度器会把请求发送到不存在的 `KvEventPublisher`，导致 `None` 并产生 `warning`，但请求会被丢弃。  
3. **资源争用**  
   - 在单进程多 GPU 场景下，`gpu_device` 被设置为 `"0,1,..."`，但每个 ADP rank 仍会占用相同的 GPU 内存池，若模型本身已占满显存，增加 ADP 可能导致 OOM。  
4. **线程/对象泄漏**  
   - `self.kv_event_publishers` 在 `initialize` 中按 rank 动态创建，退出时仅调用 `self.publish_kv_cache_events_thread` 的停止逻辑，未显式关闭每个 `KvEventPublisher`。在长时间运行或频繁重启的环境中可能留下悬挂的 ZMQ/Redis 连接。  
5. **测试不确定性**  
   - 新增的 `test_router_decisions_trtllm_attention_dp` 依赖 2‑GPU 环境，CI 环境若 GPU 数量不足或驱动/CUDA 版本不匹配，可能导致 flaky 测试。  

**💡 关注建议**  

| 对象 | 建议 |
|------|------|
| **开发者** | 1. 在请求入口统一校验 `routing.dp_rank` 范围，若超出则返回 `InvalidArgument`。<br>2. 为 AutoDeploy 路径加入显式的错误提示或自动剔除 `enable_attention_dp` 参数，防止误用。<br>3. 在 `TRTLLMProcess` 的 `__exit__` 中遍历 `kv_event_publishers`，调用其 `close()`/`stop()`（如有）以确保资源释放。 |
| **运维/部署** | 1. 部署时明确说明：ADP 只在 PyTorch backend（非 AutoDeploy）可用；若使用 AutoDeploy，请关闭 `--enable-attention-dp`。<br>2. 监控每个 ADP rank 的 GPU 内存占用，防止单进程内部出现显存竞争导致 OOM。<br>3. 在监控平台记录 `runtime_config.data_parallel_size`，方便排查路由异常。 |
| **测试/CI** | 1. 为 ADP 相关的测试添加 `[gpu_2]` 标记并在 CI 中确保至少两块 GPU 可用。<br>2. 新增单元测试覆盖 `Engine.get_attention_dp_size`、`KvEventPublisher._publish_event` 的 `attention_dp_rank` 传递路径。<br>3. 在 AutoDeploy CI 流程中加入负向案例：开启 `--enable-attention-dp` 并验证启动失败或自动回退。 |
| **文档** | 1. 在 README / API 文档中突出 “ADP 仅在 PyTorch 后端可用”。<br>2. 给出 `router-mode` 与 `--enable-attention-dp` 的组合说明，帮助用户选择 “router‑aware” 与 “内部调度” 两种路由策略。 |
| **安全审计** | 1. 对外暴露的 `data_parallel_rank` 仅在内部使用，无需加密，但建议在日志中脱敏（已在 `publish_event` 中使用 `debug` 级别记录）。<br>2. 若后续计划开放 `dp_rank` 给外部

---

### feat(lora): implement HRW-based LoRA allocation system (#5992)
**SHA**: `953e5d7` | 🔗 [查看提交](https://github.com/ai-dynamo/dynamo/commit/953e5d7beb97fd8c4e46217ab266694ab1f22d0d)

**🎯 变更类型**：功能增强 / 架构变更  
**⚡ 重要程度**：🔴高  

**📋 变更摘要**  
- 为 LoRA 适配器引入基于 HRW（Highest Random Weight）哈希的分配系统，实现 LoRA 在多工作节点间的可预测、均衡路由。  
- 新增 `LoraInfo`、`LoraAllocator` 抽象、HRW 哈希实现、路由表 (`LoraRoutingTable`) 以及相应的工厂函数。  
- Python 绑定及核心模型加载流程改为使用 `LoraInfo`，并通过 `LoraAllocator` 决定 LoRA 副本放置。  

**🎯 影响范围**  
- `lib/llm/src/lora/`（新增 `routing` 子模块、HRW 实现、表结构）  
- `lib/llm/src/model_card.rs`（`ModelDeploymentCard` 结构体改为使用 `LoraInfo`）  
- `lib/llm/src/local_model.rs`（`attach` 接口签名变更）  
- `lib/llm/src/preprocessor.rs`（读取 LoRA 名称的方式更新）  
- Python 绑定 `lib/bindings/python/rust/lib.rs`（将 `Option<String>` 转为 `Option<LoraInfo>`）  
- 受影响的上层业务代码：所有使用模型卡或 `attach` 的调用方、以及可能直接序列化/反序列化 `ModelDeploymentCard` 的外部系统。  

**🔍 技术洞察**  

- **架构影响**  
  - **模块化**：引入 `LoraAllocator` trait 与工厂函数，使得未来可以无缝替换或添加其他分配策略（例如基于负载的动态调度）。  
  - **状态管理**：新增 `LoraRoutingTable`（基于 `dashmap` 的并发哈希表）持有 LoRA‑>Worker 副本映射，提供线程安全的查询/更新接口，适配分布式 KV‑router 场景。  
  - **向后兼容**：`ModelDeploymentCard` 结构体从单一 `lora_name` 改为可选的 `LoraInfo`，序列化字段名保持不变（仍为 `lora`），但原有 JSON/YAML 中的 `lora_name` 将不再被解析，可能导致旧配置失效。  

- **性能影响**  
  - **HRW 哈希**：每次分配计算 O(N)（N 为 worker 数），使用 `blake3`，对数十甚至数百节点的集群而言开销可忽略。  
  - **路由表**：`dashmap` 为 lock‑free 结构，查询/写入延迟在微秒级，整体对模型加载路径的影响极小。  
  - **内存占用**：每条 LoRA 记录存储副本集合、时间戳等，大约数百字节，除非有成千上万的 LoRA，否则可接受。  

- **安全考虑**  
  - **输入校验**：`LoraInfo.name` 直接用于哈希，若出现恶意极长或包含特殊字符的名称，可能导致哈希耗时上升或 DoS。建议在上层对名称长度/字符集做限制。  
  - **序列化兼容**：新增字段 `max_gpu_lora_count` 通过 `serde(default)` 忽略未知字段，安全性不受影响。  
  - **随机性**：HRW 使用 deterministic `blake3`，不涉及随机数种子泄漏等风险。  

**⚠️ 潜在风险**  

1. **向后兼容性**  
   - 旧版配置文件仍使用 `lora_name` 字段，反序列化会失去 LoRA 信息，导致模型加载失败。  
   - Python API 仍接受 `Option<String>`，但内部已改为 `LoraInfo`，若调用方依赖返回的 `lora_name` 字段会出现属性不存在的错误。  

2. **副本因子与资源争用**  
   - `RandomAllocation` 暂时返回全部 workers，忽略 `replica_factor`，在误用时会导致每个节点加载全部 LoRA，可能触发 OOM。  
   - `max_gpu_lora_count` 目前未在调度逻辑中使用，若业务依赖此上限，仍会出现超载。  

3. **并发更新冲突**  
   - 虽然 `dashmap` 是并发安全的，但在高频率的 LoRA 增删改场景下可能出现短暂的不一致（如读取到旧的 `replica_set`），需要在上层加上版本化或 CAS 检查。  

4. **测试覆盖不足**  
   - 目前仅提供单元测试针对 HRW 与路由表，缺少集成测试验证 `LocalModel::attach` 与实际 worker 调度的交互。  

**💡 关注建议**  

- **迁移指南**：在项目文档中明确说明 `ModelDeploymentCard` 新结构，提供脚本或示例将旧的 `lora_name` 字段迁移为 `lora: { name: "..."} `。  
- **参数校验**：在 `LoraInfo` 的构造函数或绑定层加入名称长度（如 ≤ 128）与字符集（ASCII / alphanumeric）检查，防止异常哈希开销。  
- **完善调度实现**  
  - 将 `max_gpu_lora_count` 纳入 `LoraAllocator` 的实现，确保在分配时不超过 GPU 上限。  
  - 为 `RandomAllocation` 实现基于 `replica_factor` 的采样逻辑（或直接标记为仅用于内部测试）。  
- **集成测试**：新增端到端测试，模拟多 worker 环境，验证：  
  1. 在添加/移除 worker 时 HRW 副本集合的稳定性。  
  2. `LocalModel::attach` 能正确把 `LoraInfo` 传递至底层模型卡。  
- **监控与日志**：在 `LoraAllocator::compute_replica_set` 前后添加日志，记录选择的 worker 列表、哈希分数等，便于后期调优与故障排查。  
- **危机回滚**：保持 `lora_name` 字段的临时兼容（如在 `ModelDeploymentCard` 中保留该字段并在序列化时自动映射），以便在紧急回滚时不影响现有部署。  

通过上述措施，可以在保持系统高可用的前提下，平滑引入 HRW‑based LoRA 路由，提升多节点部署的负载均衡与一致性。

---

### feat: Make grpc startup dynamic for high ISL/OSL in GRPC frontend (#5536)
**SHA**: `8c8680b` | 🔗 [查看提交](https://github.com/ai-dynamo/dynamo/commit/8c8680b179c1e7fc13fb8c79100386561dc5dd99)

**🎯 变更类型**：功能增强  
**⚡ 重要程度**：🔴高  
**📋 变更摘要**：为 KServe gRPC 前端引入可通过环境变量动态配置 HTTP/2 流控窗口大小的功能，新增 `GrpcTuningConfig` 结构体并在服务启动时读取 `DYN_GRPC_INITIAL_CONNECTION_WINDOW_SIZE`、`DYN_GRPC_INITIAL_STREAM_WINDOW_SIZE` 两个变量。文档同步更新，提供调优指南与示例。  

**🎯 影响范围**：  
- `lib/llm/src/grpc/service/kserve.rs`（核心服务实现）  
- `docs/frontends/kserve.md` 与 `fern/pages/frontends/kserve.md`（用户文档）  
- `KserveServiceConfig` 构建器（新增 `grpc_tuning` 字段）  

**🔍 技术洞察**：  
- **架构影响**：  
  - 在原有的 `KserveService` 中加入 `grpc_tuning` 成员，保持已有结构不变，仅在构造时注入。  
  - 通过 `tonic::transport::Server::builder()` 的 `initial_connection_window_size` / `initial_stream_window_size` 接口实现调优，属于 **可选的运行时配置层**，不影响服务的接口契约或模块划分。  
  - 新增的 `GrpcTuningConfig::from_env()` 在默认构造器中读取环境变量，保持向后兼容：若未设置则使用 tonic 默认值。  

- **性能影响**：  
  - **正向**：在高并发、长流（large‑ISL/OSL）场景下，可通过扩大连接/流窗口减小 flow‑control 阻塞，从而提升吞吐和降低延迟。  
  - **负向**：窗口尺寸直接决定每个连接/流在内存中的缓冲大小，过大配置会导致服务器端内存占用显著上升（尤其在大量并发流时），可能触发 OOM。  
  - 代码仅在环境变量被成功解析为 `u32` 时才会覆盖，避免因格式错误导致崩溃。  

- **安全考虑**：  
  - 读取环境变量后直接解析为 `u32`，不存在字符串注入或外部依赖。  
  - 仅影响资源分配，不改变认证、授权或网络协议本身，安全风险极低。  
  - 需要关注 **资源滥用**：恶意用户如果能够控制容器/进程环境变量，可能把窗口设得异常大，导致服务不可用（资源耗尽）。  

**⚠️ 潜在风险**：  
1. **编译兼容性**：`tonic` 版本若不支持 `initial_connection_window_size` / `initial_stream_window_size` 方法，可能导致编译错误。需确认 Cargo.toml 中的 tonic 版本。  
2. **内存泄漏/耗尽**：过高的窗口尺寸在高并发下会显著增加内存占用，若未进行阈值校验，可能在生产环境触发 OOM。  
3. **环境变量误配置**：用户在未了解工作负载特性的情况下随意增大窗口，可能导致性能下降（TCP 拥塞窗口受限时大量数据积压）。  
4. **文档与实际实现不一致**：如果后续迁移到其他 gRPC 实现（如 `grpcio`），文档中的调优参数需要同步更新，否则产生误导。  

**💡 关注建议**：  
- **加入配置校验**：在 `GrpcTuningConfig::from_env()` 中对解析出的数值设定上限（如 ≤ 256 MiB）并在日志中给出警告，防止极端值导致 OOM。  
- **单元/集成测试**：新增测试覆盖以下场景：① 环境变量未设置时使用默认；② 合法数值生效；③ 非法/溢出值被安全忽略。  
- **CI 检查 tonic 版本**：确保 `tonic` 依赖满足新 API，若未来升级需同步更新代码。  
- **文档强化**：在调优章节加入“内存占用估算公式”和“常见阈值参考”，帮助用户快速评估所需资源。  
- **监控/告警**：建议在运行时通过 Prometheus 指标暴露实际使用的窗口尺寸，配合内存使用监控，及时发现异常配置。  

通过上述措施，可在保证安全与稳定性的前提下，为高吞吐流式推理场景提供有效的性能调优手段。

---

#### 🟡 中重要度变更 (15)

### docs: cleanup of docs refactor for components, integrations, and features (#6019)
**SHA**: `b19de4e` | 🔗 [查看提交](https://github.com/ai-dynamo/dynamo/commit/b19de4ed77c11a550e037582b92f91ca19eebde1)

**变更类型**：📚 文档重构（docs cleanup & refactor）  
**重要程度**：🟡 中  

**📝 变更摘要**  
- 将核心组件文档统一迁移到 `docs/components/`，特性文档迁至 `docs/features/`，并相应更新所有交叉引用。  
- 删除已废弃的旧章节（如 `docs/frontends/kserve.md`、`docs/multimodal/*.md`），并在索引、侧边目录、`conf.py` 中重新映射链接。  
- 统一链接前缀（如 `router/README` → `components/router/README`、`planner/*` → `components/planner/*`），并在多个 README 与示例脚本中同步更改。  
- 小幅更新说明文字，加入 SPDX 头部，删除冗余帮助文件。  

**⚡ 影响范围**  
- **文档站点**：Sphinx 生成的 HTML、内部 TOC、搜索索引全部受影响。  
- **代码仓库**：所有 `README.md`、示例脚本、CI‑Docs 检查等引用旧路径的地方已批量替换。  
- **用户**：通过 URL 直接访问旧路径的外部用户将收到 404，需使用新路径。  

**🔍 关注建议**  
1. **完整跑一次 Sphinx 构建**（`make html`），确认所有 `.. toctree::`、`ref:`、`linkcheck` 不报错，尤其是 `docs/conf.py` 中的 `intersphinx_mapping`。  
2. 检查 **CI 文档链接**（例如 GitHub Action 中的 `docs/hidden_toctree.rst`），确保新路径已加入对应的 `toctree`。  
3. 对于 **已删除的文件**（如 `docs/frontends/kserve.md`），若有外部引用（issue、wiki、博客），在仓库 `README` 中添加重定向说明或在 GitHub Pages 上保留短链。  
4. **搜索关键字**：确认搜索功能能够检索到迁移后的标题（如 “KV‑Aware Routing”、 “SLA Planner Guide”），防止因标题层级变化导致搜索失效。  
5. **代码注释**、**示例脚本** 中的 `--router-mode`、`--planner` 参数说明已更新，建议在 PR 中加入一条“文档迁移完成，需同步更新外部文档链接”的检查项，避免以后出现遗漏。  

整体来看，此次提交只影响文档结构，对运行时代码没有直接改动。只要构建成功、链接完整，即可安全合并。祝发布顺利！

---

### docs: Migrate router documentation to three-tier structure (#5979)
**SHA**: `80e7baf` | 🔗 [查看提交](https://github.com/ai-dynamo/dynamo/commit/80e7bafd37a0bc5970bea955a63e746ba5adac5a)

**变更概览**  
- **主要目标**：把原来的 *KV‑Cache Routing* 文档 (`docs/router/kv_cache_routing.md`) 拆分、重命名为三层结构：  
  1. `router/README.md`（概览）  
  2. `router/router_guide.md`（配置、调参、生产部署）  
  3. `router/router_examples.md`（Python API、K8s 示例、路由模式）  
- **新增文件**：`docs/design_docs/router_design.md`（内部架构、事件传输模式）  
- **关联文档全局更新**：README、各后端 READMEs、设计文档、特性矩阵、benchmark、部署指南等均将原来的 `…/router/kv_cache_routing.md` 链接改为 `…/router/README.md` 或 `…/router/router_guide.md`。  
- **删除文件**：`docs/router/kv_cache_routing.md`（已不再提供）  
- **其它细节**：  
  * `deploy/inference-gateway/README.md` 中的环境变量前缀从 `DYN_KV_*` 改为 `DYNAMO_*`（影响部署脚本）。  
  * `dynamo.code‑workspace` 加入 `../dynamo‑tpm` 工作区（IDE 便利，不影响运行时）。  

---

## 受影响范围

| 模块/文件 | 影响类型 | 说明 |
|----------|----------|------|
| `docs/router/*` | 文档结构 | 完全替换为新三层文档，原文件删除 |
| 所有引用 `router/kv_cache_routing.md` 的地方 | 链接破损风险 | 已改为 `router/README.md` 或 `router/router_guide.md`，但仍需全局搜查遗漏 |
| `deploy/inference-gateway/README.md` | 环境变量名称 | 代码中仍使用 `DYN_*`（参照 `components/src/dynamo/router/README.md`），如果实际入口仍是 `DYN_*`，文档改动会导致用户部署脚本出错 |
| `examples/*`、`README.md`、`design_docs/*`、`reference/feature-matrix.md` | 交叉引用 | 链接已同步，仍需确保 Sphinx toctree 包含新文件 |
| CI / 文档构建脚本 | 构建配置 | `hidden_toctree.rst` 已加入 `router/router_examples.md`，但需检查 `conf.py` 是否自动收录 `router_design.md` |
| 代码库本身 | 运行时 | **无**（仅文档变更），不会影响编译或二进制行为 |

---

## 关键风险 & 检查点

1. **链接完整性**  
   - `kv_cache_routing.md` 被删除后，任何残留的相对路径（`../router/kv_cache_routing.md`、`../../router/kv_cache_routing.md` 等）都会在 Sphinx 构建时产生 *warning* 或 *broken link*。  
   - **建议**：在本地完整执行 `make html`（或相应的文档构建命令）并运行 `lychee`/`linkchecker` 检查所有文档。  
   - 示例：  
     ```bash
     lychee docs/ --exclude-path docs/_build --offline
     ```

2. **Sphinx TOC 与隐藏 toctree**  
   - 新增的 `router_design.md`、`router_examples.md` 必须在 `hidden_toctree.rst` 或其他 toctree 中出现，否则不会被渲染。当前已在 `hidden_toctree.rst` 加入 `router/router_examples.md`，但 `router_design.md` 仍未出现。  
   - **建议**：在 `hidden_toctree.rst`（或 `index.rst`）添加如下行：  
     ```rst
     router/router_design.md
     ```

3. **环境变量名称不一致**  
   - `deploy/inference-gateway/README.md` 将 `DYN_KV_BLOCK_SIZE` 等改为 `DYNAMO_KV_BLOCK_SIZE`（同理 `DYN_OVERLAP_SCORE_WEIGHT` → `DYNAMO_OVERLAP_SCORE_WEIGHT`）。  
   - 代码中（`components/src/dynamo/router/README.md`、`components/src/dynamo/router/README.md`）仍使用 **`DYN_*`** 前缀。若部署脚本直接引用文档中的变量名，实际运行时会找不到对应的 env。  
   - **建议**：在代码层搜索 `std::env::var("DYNAMO_")`（或 Python 中 `os.getenv`) 看是否已有对应实现；若没有，统一改回 `DYN_*` 或同步实现 `DYNAMO_*` 的兼容层。文档应与实际实现保持一致。

4. **CI 文档生成的依赖**  
   - 删除的大文件 `kv_cache_routing.md` 里可能有 *include* 语句（`{% include %}`）被其它页面引用。检查是否还有 `include` 指向该文件的地方。  
   - **建议**：在 `docs/_includes/` 及所有 `.md` 中搜索 `kv_cache_routing`，确保没有遗漏。

5. **版本/变更日志**  
   - 因为文档结构全局迁移，阅读历史的用户可能找不到旧链接。可以在 `router/README.md` 顶部加入简短的 **“此文档已从 kv_cache_routing.md 迁移”** 并保留一个重定向页（比如创建 `router/kv_cache_routing.md` 的软链接或短页面，提示新地址），防止外部链接 404。

6. **文档搜索／全文索引**  
   - 若项目使用外部文档搜索（如 Algolia、ReadTheDocs）需要重新抓取新页面。确保 CI 在发布时触发完整的搜索索引重新构建。

---

## 可操作建议（开发者）

| 步骤 | 操作 | 目的 |
|------|------|------|
| **1. 链接审计** | `git grep -R "kv_cache_routing.md"` <br> `rg -n "kv_cache_routing"` | 确认所有旧路径已全部替换 |
| **2. Sphinx 构建** | `cd docs && make clean html` | 捕获 *missing-reference*、*toctree* 警告 |
| **3. 自动链接检查** | `lychee docs/ --offline --exclude-path docs/_build` | 报告残余破链 |
| **4. 环境变量对齐** | 在 `components/src/dynamo/router/README.md` 与 `deploy/inference-gateway/README.md` 中统一变量前缀（推荐保留 `DYN_*`） | 防止部署脚本运行时找不到变量 |
| **5. 添加 toctree** | 在 `hidden_toctree.rst` 增加 `router/router_design.md` | 确保新文档被 Sphinx 收录 |
| **6. 兼容性页** | 在 `router/kv_cache_routing.md`（可保留空文件）写入重定向提示：“该文档已迁移至 router/README.md”。 | 兼容外部链接、搜索引擎爬虫 |
| **7. CI 更新** | 若有 *doc‑link‑check* 脚本，确保它指向新根目录路径 |

---

### docs: migrate Frontend docs to three-tier structure (#6002)
**SHA**: `400126d` | 🔗 [查看提交](https://github.com/ai-dynamo/dynamo/commit/400126d2bcfbc7dba488e5d0dd954fb244d5dfec)

**🎯 变更类型**：文档迁移/结构重构  
**⚡ 重要程度**：🟡 中  
**📋 变更摘要**：将 Frontend 的文档从单层结构迁移至 “components/frontend” 三层目录，新增《Frontend Overview》《Frontend Guide》，并在主导航 (`docs/_sections/frontends.rst`) 中加入相应入口。更新旧的 KServe 文档提示迁移位置，新增 Sphinx 重定向，补充 OpenAPI JSON。  

**🎯 影响范围**  
- `docs/components/frontend/`（新增 README、frontend_guide）  
- `docs/_sections/frontends.rst`、`docs/frontends/kserve.md`（导航与提示）  
- `docs/conf.py`（重定向规则）  
- `components/src/dynamo/frontend/README.md`（短说明同步）  

**💡 关注建议**  
1. **链接完整性**：在 Sphinx 编译前检查新加入的相对路径（如 `../../router/README.md`、`../components/frontend/README.md`）是否在 `conf.py` 的 `exclude_patterns` 中被排除，防止构建失败。  
2. **重定向一致性**：确认旧的 `frontends/kserve` 页面仍能通过配置的重定向访问新位置，避免用户 404。  
3. **文档同步**：代码层面的 `frontend` CLI 参数、环境变量等变动（如 `--router-mode`）应在对应的 API 文档或示例中保持一致，防止文档/实现脱节。  
4. **CI 检查**：若项目已有文档构建 CI，加入对新增文件的 lint（拼写、Markdown 语法）以及对 `openapi.json` 的 schema 校验，确保发布的 API 文档可靠。  
5. **迁移提示**：在 `components/src/dynamo/frontend/README.md` 中保留对新文档的指向，同时在旧目录添加简短的 “即将删除” 警告，帮助已有用户平滑过渡。  

总体而言，此次提交主要是文档结构升级，对运行时代码无直接影响，但需确保路径、重定向以及 CI 文档检查同步更新，以免在发布时出现文档构建或链接失效的问题。

---

### docs: migrate Profiler docs to three-tier structure (#6003)
**SHA**: `3023c62` | 🔗 [查看提交](https://github.com/ai-dynamo/dynamo/commit/3023c6258ab4f989d070abc4fa29fde8971d51e2)

**🎯 变更类型**：文档重构 / 功能增强（新增 Profiler 文档、三层结构迁移）  
**⚡ 重要程度**：🟡 中  
**📋 变更摘要**：  
- 将 Profiler 相关文档从分散的页面迁移到统一的 *components/profiler* 三层结构，并在首页索引中加入入口。  
- 新增 **Profiler Overview（README）**、**Profiler Guide**、**Profiler Examples** 三篇完整文档，详细说明 DGDR‑Profiler 工作流、配置参数、示例 YAML 与 WebUI 使用方式。  
- 为已有的 SGLang 与 SLA‑driven‑profiling 文档添加 “See also → Profiler Component Overview” 的提示，提升文档关联性。  

**🎯 影响范围**  
- `docs/components/profiler/*`（新增 3 份 Markdown）  
- `docs/index.rst`（添加 Profiler TOC 条目）  
- 受影响的现有文档：`docs/backends/sglang/profiling.md`、`docs/benchmarks/sla_driven_profiling.md`（添加交叉引用提示）  
- CI 文档构建、Sphinx toctree 解析路径  

**💡 关注建议**  

1. **本地/CI 文档构建验证**  
   - 运行 `make -C docs html`（或对应的 CI 步骤），确保新页面在 `build/html` 中出现，且 TOC、内部链接均可解析。  
   - 检查 `docs/index.rst` 中新增的 `Profiler <components/profiler/README>` 条目是否符合 Sphinx 的相对路径规则，防止 “document not found” 错误。  

2. **交叉链接完整性**  
   - 新增的 `> [!NOTE] See also` 链接指向 `/docs/components/profiler/README.md`，请确认在生成的站点中 URL 为 `/components/profiler/README.html`（或 `README.html`），如必要可在链接中使用相对路径 `../components/profiler/README.html`。  

3. **文档一致性**  
   - Profiler Guide 与 Examples 中的字段名称（如 `sla.isl`、`hardware.minNumGpusPerEngine`）需要与代码中 CRD 定义保持同步。若后续 CRD 变更，请同步更新文档示例。  
   - 检查是否有旧的 README 或外部链接仍指向已移除的旧位置，避免用户点击失效链接。  

4. **发布说明**  
   - 在 Release Note 中加入 “新增 Profiler 文档及三层结构” 项目，帮助新老用户快速定位 Profiler 相关使用方式。  

总体而言，此次提交仅涉及文档结构与内容的扩充，对业务代码无直接影响。但为了保持项目文档的可用性与 CI 通过率，请务必执行上述构建和链接检查。祝后续文档迭代顺利 🚀.

---

### docs: restructure KVBM documentation into three-tier format (#5905)
**SHA**: `4c3eba2` | 🔗 [查看提交](https://github.com/ai-dynamo/dynamo/commit/4c3eba2aebc711f684e68111e7af3a444167591d)

**📝 变更概览**  
本次 PR 主要对 *KV Block Manager (KVBM)* 文档进行了结构性重构，并新增 **FlexKV** 与 **SGLang HiCache** 两套集成指南。核心改动包括：

1. **文档入口统一**：`docs/kvbm/kvbm_architecture.md`、`kvbm_components.md`、`kvbm_design_deepdive.md` 等旧文件被删除，统一入口改为 `docs/kvbm/README.md`（概述 + 链接），并新增 `kvbm_design.md`、`kvbm_guide.md`。  
2. **全局链接迁移**：`README.md`、`index.rst`、后端 README、LMCache、LMCache Prometheus、以及 `lib/bindings/kvbm/README.md` 中的 KVBM 相关链接全部指向新路径。  
3. **新增集成文档**  
   - `docs/integrations/flexkv_integration.md`（FlexKV 使用说明）  
   - `docs/integrations/sglang_hicache.md`（SGLang HiCache 使用说明）  
4. **隐藏目录（hidden_toctree）** 移除已删除的文件，确保 `sphinx` 构建不再引用。  
5. **细节修正**：图片路径、表格描述、文案拼写（如 “GPU memory(in future)” → “GPU memory (future)”)。  

**⚡ 影响范围**  
- **文档体系**：`docs/kvbm/*`、`docs/integrations/*`、根 `README.md`、`index.rst`、后端示例 README、Python 包 `kvbm` 的 README。  
- **CI / Sphinx**：构建脚本会尝试读取新文件和更新后的 TOC，若路径不匹配会导致文档构建失败。  
- **用户**：历史 URL（如 `.../kvbm/kvbm_architecture.md`）将失效，可能产生 404。  

**💡 关注建议**  

| 建议 | 说明 |
|------|------|
| **检查所有交叉链接** | 使用全库搜索（`grep -R "kvbm_.*\.md"`）确认没有遗漏的旧路径，尤其是 `examples/`、`benchmarks/`、`docs/reference/` 中的链接。 |
| **保持向后兼容** | 为被删除的旧文件添加轻量级的重定向页面（例如在 `kvbm_architecture.md` 中放置 `.. toctree::\n   :hidden:\n   kvbm/README.md`）或在 GitHub Pages 中配置 301 重定向，防止历史使用者 404。 |
| **Sphinx 配置** | 确认 `conf.py` 中的 `exclude_patterns` 已覆盖已删除文件，且 `master_doc` 指向 `index.rst`。执行一次 `make html` 本地预览，确保所有图片路径 (`../images/kvbm-architecture.png`) 正常。 |
| **更新 CI 检查** | 如果项目使用 `cargo test`、`cargo doc` 或自定义 doc‑build 脚本，确保 CI 中的文档生成步骤引用最新的入口（`docs/index.rst` 中的 `KV Cache Offloading <kvbm/kvbm_guide.md>`）。 |
| **同步 README 引导** | `lib/bindings/kvbm/README.md` 已指向新指南，建议在该 README 顶部加入一句 “旧文档已迁移至 `docs/kvbm/README.md`”，帮助搜索引擎抓取。 |
| **更新发布说明** | 在 `CHANGELOG` 或 `docs/release_notes.md` 中标注 “KVBM 文档迁移至三层结构，旧链接已重定向”。 |
| **测试示例脚本** | 运行一次 `examples/backends/vllm/launch/agg_kvbm.sh`、`disagg_kvbm.sh` 等脚本，确保脚本中引用的环境变量与新文档中的说明保持一致。 |
| **监控用户反馈** | 部署后监控 GitHub Issues、Discussions 中关于 “文档链接失效” 的报告，及时补充遗漏的跳转。 |

**结论**  
此 PR 属于 **文档重构**，对代码本身无直接影响，但涉及大量跨文件引用。重点在于确保 Sphinx 可顺利构建、所有外部链接已更新且兼容旧地址，避免用户在升级后遭遇 404。完成上述检查后，文档结构将更加清晰、易于维护，且新加入的 FlexKV / SGLang HiCache 集成指南将提升 Dynamo 生态的可使用性。

---

### docs: migrate Multimodal docs to three-tier structure (#5999)
**SHA**: `c570998` | 🔗 [查看提交](https://github.com/ai-dynamo/dynamo/commit/c57099800d9e012cf61520e2a29bd58a3879233a)

**🎯 变更类型**：📄 文档重构（Multimodal 文档迁移至三层结构）  
**⚡ 重要程度**：🟡 中 —— 只涉及文档但会影响链接、CI 文档构建以及对外使用的 URL。  

**📋 变更摘要**  
- `docs/conf.py` 新增 `multimodal/` 的路由映射，将旧的 `multimodal/*` 页面迁到 `features/multimodal/` 下。  
- 在 `docs/features/multimodal/` 新增四篇 Markdown：`README.md`（概览）、`multimodal_vllm.md`、`multimodal_sglang.md`、`multimodal_trtllm.md`，分别详述 vLLM、SGLang、TensorRT‑LLM 的多模态支持、架构模式、部署脚本、已知限制等。  
- `docs/hidden_toctree.rst` 与 `docs/index.rst` 同步更新，使导航指向新位置。  
- 原 `docs/multimodal/index.md` 只保留占位说明并提示已迁移。  

**🎯 影响范围**  
- **文档生成**：`make html` 及 CI 文档构建流程。  
- **链接**：任何指向旧 `multimodal/` 页面（如 README、外部博客或教程）的 URL 将返回 404。  
- **搜索/跨引用**：内部 `:ref:`、`toctree` 以及外部搜索引擎的索引需要重新抓取。  
- **用户手册**：使用 Dynamo 的用户在查阅多模态章节时会看到新路径。  

**💡 关注建议**  
1. **CI 检查**：确保 `docs` 工作流跑通，尤其是 `sphinx-build -b html`，否则文档链接错漏会导致 PR 失败。  
2. **链接迁移**：搜索代码库中对 `multimodal/` 的硬编码路径（如 README、示例脚本、issue 模板），统一改为 `features/multimodal/`。  
3. **旧链接兼容**：若有社区依赖旧 URL，可考虑在 `conf.py` 添加 `redirects` 或使用 Sphinx 的 `html_extra_path` 提供短期跳转页面，避免突然 404。  
4. **文档审阅**：新加入的四篇文档内容丰富，建议在下一个发布前让后端维护者（vLLM、SGLang、TRT‑LLM）审阅技术细节，防止与代码实现不一致。  
5. **更新发布说明**：在 Release Notes 中加入 “Multimodal 文档迁移至 `features/multimodal/`” 的提示，帮助用户快速定位新文档。  

总体而言，此次改动仅影响文档层面，但涉及导航与跨引用的调整，务必在 CI 与发布文档中验证链接完整性，防止用户在查阅多模态功能时遇到失效页面。

---

### docs: planner 3-tier documentation restructure (#5876)
**SHA**: `7752ce2` | 🔗 [查看提交](https://github.com/ai-dynamo/dynamo/commit/7752ce219e16e43938ab8a6328ea97d80467b95b)

**🎯 变更类型**：文档（docs）  
**⚡ 重要程度**：🟡 中  

**📋 变更摘要**  
本次 PR 将 Planner 相关文档从分散的 README 迁移到统一的三层结构：  
1. **用户文档**（`docs/planner/`）提供快速上手、特性矩阵、示例、配置参考等面向使用者的内容。  
2. **设计文档**（`docs/design_docs/planner_design.md`）面向贡献者，细致阐述 Planner 的架构、算法、连接器、插值与预测模型等实现细节。  
3. **全局索引**（`docs/index.rst`）加入 Planner Design 链接；组件 README 更新指向新的用户文档。  

**🎯 影响范围**  
- `components/src/dynamo/planner/README.md`（引用路径）  
- `docs/index.rst`（导航）  
- 新增的 `docs/planner/` 系列文件（README、planner_guide、planner_examples）  
- 新增的设计文档 `docs/design_docs/planner_design.md`  
- 相关 CI 文档检查、链接校验脚本（若存在）  

**💡 关注建议**  
1. **链接完整性**：确保所有新加入的相对链接在 CI 中通过 Sphinx 检查，避免出现 404。  
2. **跨语言同步**：Planner 代码（如 `components/planner/`）的改动后，务必同步更新对应的设计说明，防止文档与实现脱节。  
3. **版本发布**：在下一个 Release Note 中添加 Planner 文档章节，提醒用户阅读新手指南和设计文档。  
4. **搜索可见性**：在全局搜索或 FAQ 中加入 “Planner” 关键字，帮助新用户快速定位。  
5. **维护流程**：将 `docs/design_docs/planner_design.md` 标记为 “受维护”（owner），并在代码审查模板中加入对设计文档的必审项。  

总体而言，此次文档重构提升了 Planner 的可发现性与可维护性，对功能本身没有直接影响，仅需注意文档链接和同步更新的常规工作。

---

### docs: migrate Speculative Decoding docs to three-tier structure (#6001)
**SHA**: `8aa7335` | 🔗 [查看提交](https://github.com/ai-dynamo/dynamo/commit/8aa7335e35a3d53c0805938bc9650f1dfcb49bec)

**🎯 变更类型**：文档重构/功能迁移  
**⚡ 重要程度**：🟡 中  

**📋 变更摘要**  
本次 PR 将 Speculative Decoding（投机解码）的文档从各后端目录下搬迁至统一的三层结构（`features/speculative_decoding/`），并在原后端页面加入跨后端引用。新增了概览页面、vLLM 专用指南以及对应的 Sphinx 目录映射。

**🎯 影响范围**  
- `docs/backends/vllm/*`（README、原 speculative_decoding.md）  
- 新增 `docs/features/speculative_decoding/`（概览 + vLLM 说明）  
- Sphinx 配置 `docs/conf.py` 与隐藏 TOC `hidden_toctree.rst`  
- 可能影响 CI 构建、搜索索引以及用户通过旧 URL 访问的链接。

**💡 关注建议**  

1. **链接兼容性**：原文件 `backends/vllm/speculative_decoding.md` 仍保留但标记将被删除，建议在仓库根目录添加永久性重定向（如使用 `redirect.html` 或在 README 中写明新路径），防止外部用户 404。  
2. **Sphinx 生成**：`conf.py` 新增的映射路径应确保对应的 HTML 文件实际存在，否则构建会报 “file not found”。在 CI 中跑一次完整的 `make html` 检查是否所有页面都成功生成。  
3. **搜索和跨引用**：文档内部使用的相对路径已统一为 `../../features/...`，请确认在所有后端文档中仍能正确解析，尤其是嵌套层级不同的章节。  
4. **文档一致性**：概览表格列出了 SGLang、TensorRT‑LLM 为 “🚧”，如果后续实现后忘记更新，可能产生误导。建议在 CI 中加入文档检查脚本，确保状态标记与实际实现对应。  
5. **未来迁移**：既然已经在 `hidden_toctree.rst` 注册新页面，继续在 `toctree` 中保持同步，防止出现未列入导航导致搜索不可达的情况。  

总体而言，此次迁移提升了 Speculative Decoding 文档的可维护性和跨后端可见性，只需注意旧链接的平滑过渡以及构建验证即可顺利发布。

---

### fix: fix core CI not triggering for container/deps/*.txt changes (#5998)
**SHA**: `e351c63` | 🔗 [查看提交](https://github.com/ai-dynamo/dynamo/commit/e351c6346676d7853d7094e016b29f5e67e3bb5e)

**🎯 变更类型**：Bug 修复  
**⚡ 重要程度**：🟡 中  
**📋 变更摘要**：在 `.github/filters.yaml` 中调整了 `core` 工作流的路径过滤顺序，先排除所有 `*.md`、`*.rst`、`*.txt` 文档文件，再导入原来的 `*ci` 与构建脚本路径。此改动修复了因文档改动未能触发核心 CI 的问题。  

**🎯 影响范围**：  
- CI 配置 (`.github/filters.yaml`) → 直接影响 GitHub Actions 中 `core` 工作流的触发条件。  
- 可能间接影响依赖于 CI 结果的自动化流程（如 PR 检查、镜像构建等）。  

**💡 关注建议**：  
1. **验证过滤顺序**：GitHub Actions 的 `paths-ignore`/`paths` 规则是“后定义覆盖前定义”。确认 `!**/*.md` 等排除在 `*ci` 之前生效，避免意外过滤掉实际需要触发的文件。  
2. **兼容性检查**：在本地或 CI 中跑一次包含 `*.md/.rst/.txt` 的改动，确保仅文档变更不触发 `core` 流程，其他变更仍正常触发。  
3. **文档同步**：更新仓库的贡献指南或 CI 说明，提醒贡献者文档改动不会触发核心 CI，避免误判。  
4. **回归测试**：若项目中有针对 CI 触发的自动化测试（例如 `ci_test.sh`），请在合并前执行，确保新过滤规则未引入遗漏触发的风险。  

总体来说，此次修改解决了 CI 未响应文档路径变动的 bug，影响范围局限于 CI 配置。本地与 CI 双向验证后即可安全合并。

---

### chore: remove unused NIM specific code (part 2) (#5893)
**SHA**: `cb7ebdd` | 🔗 [查看提交](https://github.com/ai-dynamo/dynamo/commit/cb7ebdd7e87439c8edb82ca64e37251d9e056c31)

**🎯 变更类型**：重构 / 代码清理（移除已废弃的 NIM‑specific 自定义后端指标功能）  
**⚡ 重要程度**：🟡 中  
**📋 变更摘要**：本次提交在 Python 前端、Rust 入口参数、HTTP 服务配置等多处删除了 `custom_backend_metrics_*` 相关的环境变量、命令行参数、结构体字段和实现代码，并同步移除 `custom_backend_metrics` 模块及其依赖。与此同时，对文档和注释进行了一些细微的更新，删除了与 NIM 迁移相关的说明。

**🎯 影响范围**  
- `components/src/dynamo/frontend/main.py`：去除两段命令行参数及对应 env‑var 解析。  
- `lib/bindings/python/rust/llm/entrypoint.rs`、`EntrypointArgs`：调整 `#[pyo3(signature)]`，删除两个可选字段。  
- `lib/llm/src/http/service/*`（`service_v2.rs`、`service.rs`、`metrics.rs`、`openapi_docs.rs`、`custom_backend_metrics.rs`）：删除所有自定义后端指标的字段、构造器参数、注册与轮询逻辑。  
- `lib/llm/src/local_model.rs`、`local_model_builder`：清理对应字段与访问方法。  
- 其它零散位置（vllm 处理器注释、生成 OpenAPI 文档的注释）亦作了文案删减。

**💡 关注建议**  

1. **兼容性检查**：删除的字段在公开 API（Python 端 `dynamo.entrypoint`）中仍可能被第三方调用。建议在下一次版本号中加入 **DeprecationWarning**（如仍保留旧签名的 shim），或在发行说明中明确迁移路径。  
2. **测试覆盖**：确保所有单元/集成测试在 CI 中通过，特别是涉及 `EntrypointArgs::new` 的 Rust 绑定以及 HTTP 服务启动的路径。若有自定义后端指标的测试用例，需要相应移除或改写。  
3. **文档同步**：README、CLI 帮助、OpenAPI 文档以及 CI 生成 OpenAPI 的说明已更新；仍需检查发布页面、示例脚本和外部依赖（如 NIM 项目）是否仍引用已删除参数。  
4. **运行时行为**：删除后默认不再进行自定义后端指标轮询，这不会影响 Dynamo 核心功能，但如果用户仍依赖该指标，需要提前迁移到 Dynamo 自身的指标体系（`dynamo_runtime::metrics`）。  
5. **代码审计**：搜索仓库中是否残留对 `custom_backend_metrics_endpoint`、`custom_backend_metrics_polling_interval` 的引用（如在旧的 CI 脚本、示例配置中），防止出现编译或运行时未捕获的 panic。  

总体来看，变更实现了对已废弃 NIM 后端指标的完整清理，代码体积与维护成本均得到下降。只要在发布说明中做好迁移提示，并确保 CI 完整通过，即可安全上线。

---

### chore: make mocker it's own crate (#5958)
**SHA**: `91fb78c` | 🔗 [查看提交](https://github.com/ai-dynamo/dynamo/commit/91fb78cddfa0377dacfd72ae55704a59700c4269)

**🎯 变更类型**：重构（将 mocker 从 `dynamo-llm` 中抽离为独立 crate）  
**⚡ 重要程度**：🟡 中  
**📋 变更摘要**：新增 `dynamo-mocker` crate，将原先在 `lib/llm/src/mocker` 中的调度、KV 管理、性能模型等实现迁移过去；对外接口统一为 `dynamo_mocker::{bootstrap, evictor, kv_manager, perf_model, protocols, scheduler, sequence}` 并在 `lib/llm` 中仅保留一个包装层 `make_mocker_engine`。为了去除对 runtime `Component` 的硬耦合，引入 `KvCacheEventSink` 抽象，`Scheduler`、`KvManager` 等改为接受 `Arc<dyn KvCacheEventSink>`。Workspace‑manifest、Cargo.lock、Python binding 包亦同步加入新 crate。

**🎯 影响范围**  
- `lib/llm`（`Cargo.toml`、`src/mocker.rs`、调用路径 `engine::make_mocker_engine`）  
- 新增 `lib/mocker`（全部实现）  
- `launch/dynamo-run`、`bindings/python`、`Cargo.lock` 中的依赖列表  
- 旧的 `lib/llm/src/mocker` 目录已删除，所有内部模块改为 `dynamo_mocker::*`  

**💡 关注建议**  
1. **代码迁移**：使用 mocker 的项目需将 `use dynamo_llm::mocker::engine::make_mocker_engine` 替换为 `use dynamo_llm::mocker::make_mocker_engine`（或直接 `dynamo_mocker::make_mocker_engine`）。文档和示例应同步更新。  
2. **兼容性**：若外部实现了自定义 KV 事件发布器，需实现新 `KvCacheEventSink` trait 并在 `Scheduler::new` 中传入 `Arc<dyn KvCacheEventSink>`；旧的 `Component` 参数已废除，保持向后兼容可在包装层提供临时适配器。  
3. **测试**：运行全仓库的单元/集成测试，尤其是依赖 mocker 的 `llm`、`bindings/python` 测例，确认编译路径、特性及运行时行为一致。  
4. **发布策略**：建议在本次发布前保留一个 `pub use dynamo_llm::mocker::engine::make_mocker_engine as _old_make_mocker_engine; #[deprecated]` 的 shim，给用户留出迁移窗口。  
5. **性能/监控**：KV 事件现在通过 `KvCacheEventSink` 直接发送，确保在生产环境中仍能使用 `KvEventPublisher`（已有实现），否则会出现 “无 KV 事件发布器” 的静默情况。  

总体来说，此次拆分提升了模块化与可复用性，但需要注意 API 路径的破坏性改动以及对自定义 KV 事件发布器的适配。更新文档、提供兼容层、完整跑通 CI 即可安全上线。

---

### fix: Update vllm multimodal PD Disagg launch script (#5951)
**SHA**: `a72f41f` | 🔗 [查看提交](https://github.com/ai-dynamo/dynamo/commit/a72f41f604a41bdb814f106fd93b3263f7d66e54)

**🎯 变更类型**：Bug 修复  
**⚡ 重要程度**：🟡 中  

**📋 变更摘要**  
1. 为 `examples/backends/vllm/launch/disagg_multimodal_llama.sh` 增加 `--model` 参数，可在运行时指定 VLM 模型；  
2. 引入 `EXTRA_ARGS` 收集并转发用户自定义的其它选项；  
3. 将请求通道改为 TCP (`DYN_REQUEST_PLANE=tcp`) 规避 NATS payload 限制；  
4. 为默认模型 `meta-llama/Llama-4-Maverick-17B-128E-Instruct-FP8` 添加专属启动参数（tensor‑parallel、max‑model‑len、gpu‑memory‑utilization），并显式设置 `CUDA_VISIBLE_DEVICES` 以划分 GPU；  
5. 精简错误提示并统一后台进程启动方式。

**🎯 影响范围**  
- `examples/backends/vllm/launch/` 下的多模态 disagg 启动脚本；  
- 依赖该脚本的 CI/benchmark 与本地调试流程；  
- 可能涉及的文档 (`README.md`、脚本使用说明）和环境变量 (`DYN_REQUEST_PLANE`)。

**💡 关注建议**  
- **开发者**：确认其他模型（非 Llama‑4）在缺少专属参数时仍能正常启动；可考虑将 `MODEL_SPECIFIC_ARGS` 抽象为函数或配置文件，以便日后扩展。  
- **运维/用户**：运行前检查机器是否拥有 8 张 GPU，或自行修改 `CUDA_VISIBLE_DEVICES` 与 `MODEL_SPECIFIC_ARGS`；若使用不同的请求层（如 NATS），记得取消 `DYN_REQUEST_PLANE=tcp`。  
- **测试**：加入脚本参数解析的单元测试，验证 `--model`、未知选项和 `EXTRA_ARGS` 的正确转发。  

总体而言，此次修改提升了脚本的灵活性与可靠性，但需确保文档同步更新并在多模型场景下进行回归测试。

---

### fix: multimodal worker internal-only to prevent registration collision (#5986)
**SHA**: `6b70d84` | 🔗 [查看提交](https://github.com/ai-dynamo/dynamo/commit/6b70d845d4d6b8fac5db2e27c87dcb0a61d1ee5b)

**🎯 变更类型**：Bug 修复  
**⚡ 重要程度**：🟡 中  

**📋 变更摘要**  
本次修改将 `init_multimodal_worker` 的行为统一为 **内部组件**，不再在解码模式下向 Frontend 注册服务。原先在聚合模式下会同时启动服务并通过 `register_llm_with_readiness_gate` 注册，此次删除相关逻辑，只保留内部 `generate_endpoint` 的启动，并在文档注释中明确说明注册应由 Processor（`--multimodal-processor`）完成。  

**🎯 影响范围**  
- `components/src/dynamo/sglang/main.py` 中的多模态 worker 初始化路径。  
- 依赖该初始化函数的部署脚本或用户自定义启动方式（尤其是直接运行 multimodal worker 而非通过 Processor）。  

**💡 关注建议**  
1. **兼容性检查**：确认已有的部署流程（尤其是旧版本的聚合模式）已改为通过 Processor 启动，否则会出现服务未注册的错误。  
2. **文档同步**：更新 README / Helm Chart / 示例脚本，强调 `init_multimodal_worker` 为内部组件，外部用户应使用 `init()` 或 Processor 参数。  
3. **测试覆盖**：新增对 `init_multimodal_worker` 在两种启动方式（standalone、processor）下的单元测试，确保异常路径（如 `serve_endpoint` 失败）仍能被捕获并记录。  
4. **监控与健康检查**：因为不再使用 `register_llm_with_readiness_gate`，请确认健康检查仍通过 `health_check_payload` 正常上报，避免监控盲区。  

总体来看，此修复消除了因多模态 worker 与 Frontend 双重注册导致的冲突风险，但需确保部署文档和自动化脚本同步更新，以免产生启动失败。

---

### fix: mm_item keys for SGLang API (#5981)
**SHA**: `cfba042` | 🔗 [查看提交](https://github.com/ai-dynamo/dynamo/commit/cfba042e995c28bb9b98b49f4c7110f1c39edf18)

**🎯 变更类型**：Bug 修复  
**⚡ 重要程度**：🟡 中  

**📋 变更摘要**  
- 在 `worker_handler.py` 中，`create_multimodal_item` 现在使用 `format="precomputed_embedding"` 并返回 `feature` 而非原来的 `precomputed_embeddings`。  
- 对输入的 3‑D 张量 (1 × N × D) 进行 squeeze，确保向 SGLang 侧传递的是 2‑D (N × D) 的 embedding。  
- 统一了数据类型为 `MultimodalConfig.EMBEDDINGS_DTYPE`，并补充了详细注释。  

**🎯 影响范围**  
- `components/src/dynamo/sglang/request_handlers/multimodal/worker_handler.py`  
- 通过该 handler 产生的多模态请求会直接影响 SGLang API 的调用路径；其它依赖该函数的生成流水线（如图片‑文本混合推理）也会受此改变。  

**💡 关注建议**  
1. **兼容性检查**：如果外部仍有代码基于旧的键名 `precomputed_embeddings`，调用会失效，建议在文档或迁移指南中说明键名变更。  
2. **类型与形状验证**：加入断言或日志，确保 `precomputed.dim()==2`（或已正确 squeeze），防止未来 Encoder 输出维度变化导致隐蔽错误。  
3. **单元/集成测试**：补充针对 `create_multimodal_item` 的测试，验证 3‑D → 2‑D 的 squeeze 以及 `format`、`feature` 字段的正确性。  
4. **性能影响**：`to()` 与 `squeeze()` 均为轻量操作，影响可忽略，但在高并发场景下建议在函数外部提前完成张量的 dtype 转换，以减少重复调度。  

总体而言，此次修改纠正了与 SGLang 接口的不匹配，风险主要在键名变更的向后兼容，建议做好迁移提示并增加对应的测试覆盖。

---

### docs: add documentation templates for streamlined docs structure (#5834)
**SHA**: `3a9bfc4` | 🔗 [查看提交](https://github.com/ai-dynamo/dynamo/commit/3a9bfc4853911939d87cf94e9b22999d72d92711)

**🎯 变更类型**：docs（新增文档模板、迁移指南、示例技能）  
**⚡ 重要程度**：🟡 中（不影响代码运行，却牵涉到整个文档体系的组织与维护）  
**📋 变更摘要**：本次提交在 `docs/templates/` 中加入 10+ 份 Markdown 模板以及一本《Documentation Migration Guide》和一个 AI‑assisted Skill（EXAMPLE_SKILL.md），旨在统一 Dynamo 的文档层级为 9 大类（components、backends、features、deploy、performance、infrastructure、integrations、reference、design_docs），并提供从旧结构迁移到新结构的细化步骤、链接更新清单以及风格检查规则。  

**🎯 影响范围**  
- **文档目录结构**：`docs/` 下的所有子目录将被重新组织，已有的 `router、planner、kvbm` 等组件文档将迁移到 `docs/components/<name>/`。  
- **Sphinx 与 Fern 配置**：`docs/index.rst`、`docs/_sections/*.rst`、`docs/conf.py`、`fern/docs.yml`、`fern/versions/next.yml` 等文件需要同步更新 TOC 与重定向映射。  
- **CI/CD 文档构建**：`make html`（Sphinx）与 Fern 静态站点的构建脚本将在迁移后出现大量失效链接的报错。  
- **社区贡献流程**：新增模板后，新特性/组件的文档撰写将基于统一的 `component_*.md、backend_*.md` 等文件，提高 PR 审核一致性。  

**💡 关注建议**  

1. **链接完整性检查**  
   - 在迁移前后运行一次 `rg -l "docs/old_path"`，确保所有旧路径已在 `MIGRATION_GUIDE.md` 中列出并在 Sphinx/Fern 配置里加入对应 `redirects`。  
   - CI 中加入 `mdspell`、`markdownlint` 与 Sphinx 的 “‑W” 警告检查，防止因拼写或失效引用导致构建失败。  

2. **自动化迁移**  
   - 考虑编写一个小脚本（Rust/Python）读取 `SOURCE_TARGET_MAPPING.md`，自动执行 `git mv`、文件格式转换（RST→MD）以及占位目录创建，降低手工错误风险。  
   - 将 `EXAMPLE_SKILL.md` 与脚本集成，使开发者在 IDE（Cursor）中一键触发 AI‑assisted 迁移。  

3. **模板使用规范**  
   - 在 `docs/README.md` 中明确“模板选型”章节，说明何时使用 `component_readme.md`、`backend_guide.md`、`feature_backend.md` 等，以免出现混用。  
   - 为每个模板添加必填占位字段（如 `<Component>`、`<Backend>`）的提示脚本，防止 PR 中残留占位符。  

4. **版本兼容性**  
   - 迁移完成后，保持旧路径的 **redirect**（`conf.py` 中 `redirects`）至少一个发行周期，以免已有外部链接失效。  
   - 在 `CHANGELOG.md` 中记录 “文档结构重构 vX.Y → vX.Y+1”，帮助使用者定位迁移前的文档位置。  

5. **文档审阅流程**  
   - 将 “Flow/Style/Consistency” 检查表加入 PR 模板，要求审阅者对每个 `*_readme.md`、`*_guide.md` 执行一次表格化审查。  
   - 设立 “文档迁移审查员” 角色，专门负责更新 Sphinx/Fern TOC 与重定向映射。  

> **对开发者**：在提交新组件或特性文档前，请先复制对应模板并完整填充占位，确保 CI 能顺利通过；迁移旧文档时，务必跑完整的链接搜索与构建检查。  
> **对用户**：文档结构统一后，查找目标信息更直观；若在浏览旧链接时遇到 404，请关注站点顶部的重定向提示或查看最新的 `docs/README.md`。

---

#### 🟢 低重要度变更 (8)

### test: router mocker E2E tests to run serially for stability (#6018)
**SHA**: `04fe92d` | 🔗 [查看提交](https://github.com/ai-dynamo/dynamo/commit/04fe92d7abcff7b6f7ac2f4e12f4da2b894d27eb)

**🎯 变更类型**：测试修改  
**⚡ 重要程度**：🟢低  
**📋 摘要**：移除 `tests/router/test_router_e2e_with_mockers.py` 中的 `pytest.mark.parallel` 标记，使路由 E2E 测试串行执行，提高运行稳定性。

---

### ci: Add fern docs publish workflow (#5758)
**SHA**: `ad1e65f` | 🔗 [查看提交](https://github.com/ai-dynamo/dynamo/commit/ad1e65f1418282e3df44d05cff5c99645ac48669)

**🎯 变更类型**：配置调整  
**⚡ 重要程度**：🟢低  
**📋 摘要**：新增 `.github/workflows/publish-fern-docs.yml` CI 工作流，实现对 Fern 文档的自动发布；同步更新 `fern/docs.yml` 的 URL 与 `fern/fern.config.json` 的组织名称。

---

### docs: migrate LoRA docs to three-tier structure (#6000)
**SHA**: `87449e1` | 🔗 [查看提交](https://github.com/ai-dynamo/dynamo/commit/87449e1c97e31acfedf555d8d8d4233db3d560f4)

**🎯 变更类型**：文档更新  
**⚡ 重要程度**：🟢 低  
**📋 摘要**：新增 LoRA 适配器使用文档，包含概览、快速入门、配置、API、K8s 部署等， 并在首页索引中加入对应链接。

---

### test: make metrics_port mandatory in fetch_kvbm_metrics (#6009)
**SHA**: `8b651fe` | 🔗 [查看提交](https://github.com/ai-dynamo/dynamo/commit/8b651fe9aac6b90b4358d8ab62499cfb1918fd4f)

**🎯 变更类型**：代码重构  
**⚡ 重要程度**：🟢 低  
**📋 摘要**：将 `fetch_kvbm_metrics` 改为必须显式传入 `metrics_port`，并相应更新所有测试调用，增强 pytest‑xdist 兼容性。

---

### chore: restore build-frontend-image.yaml (#5969)
**SHA**: `4c200e7` | 🔗 [查看提交](https://github.com/ai-dynamo/dynamo/commit/4c200e79476226983377765f2049cbdb5c9d3386)

**🎯 变更类型**：配置调整  
**⚡ 重要程度**：🟢低  
**📋 摘要**：新增 GitHub Actions 工作流 `build-frontend-image.yaml`，在代码变更时自动构建并推送前端镜像，支持多平台并使用 AWS/Azure 镜像仓库。

---

### test: [DYN-1988] skip TRTLLM KVBM disagg test for now until upstream's fix is released (#5974)
**SHA**: `0fa3d07` | 🔗 [查看提交](https://github.com/ai-dynamo/dynamo/commit/0fa3d079ff88f7a6fc397ab5511e62396300beda)

**🎯 变更类型**：测试修改  
**⚡ 重要程度**：🟢低  
**📋 摘要**：在 KV-BM 集成交叉测试中，将 TensorRT‑LLM 的 `top_k` 默认值从 0 调整为 1，避免不支持的情况；并为该测试添加 `skipif` 标记，暂时跳过在 TensorRT‑LLM 环境下的分布式聚合测试，直至上游修复。

---

### ci: xfail failing chunked_prefill_offload test and fix ucx tag (#6006)
**SHA**: `20847a6` | 🔗 [查看提交](https://github.com/ai-dynamo/dynamo/commit/20847a6e4e6f9d9f589f4665808590711d2b1fc4)

**🎯 变更类型**：配置调整、测试修改  
**⚡ 重要程度**：🟢低  
**📋 摘要**：统一容器脚本中的 UCX 版本号为 `v1.20.0`，并将 `test_chunked_prefill_offload` 标记为 `xfail`，防止 CI 失败。

---

### ci: deploy tests fix (#5996)
**SHA**: `458b206` | 🔗 [查看提交](https://github.com/ai-dynamo/dynamo/commit/458b206677a6b92667a03281543be4eec66958eb)

**🎯 变更类型**：配置调整  
**⚡ 重要程度**：🟢低  
**📋 摘要**：在部署测试动作中新增对失败的 `dynamographdeployments` 进行详细 describe；在 PR 工作流中对分支名做 10 字符截断并将运行时镜像从 CUDA12 升级至 CUDA13。

---

